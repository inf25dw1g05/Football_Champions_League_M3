# C2 : Resources

Nesta secção detalhamos os recursos disponibilizados no nosso projeto. O projeto adota uma arquitetura orientada a serviços, com uso a API REST que expõe os dados e com Backoffice que consome esses recursos para apresentar a interface de gestão.

Todos os endpoints estão definidos de acordo com a especificação OpenAPI 3.0, gerada automaticamente pelo LoopBack 4, de forma a garantir uma documentação viva e testável.

A API inclui recursos relacionados com:

---

## 1. Equipas (Teams)
Recurso responsável pela gestão dos clubes participantes na Liga dos Campeões.
**Funcionalidades:**
- **CRUD**: Criação, Leitura, Atualização e Remoção de equipas.
- **Relações**: Acesso direto aos jogadores da equipa e aos jogos.
- **Filtragem**: Possibilidade de filtrar equipas por grupo (A-H), país ou treinador.
- **Classificação**: Ligação direta à tabela de classificações para consulta de pontos e estatísticas da equipa.

---

## 2. Jogadores (Players)
Recurso que gere a informação individual dos atletas.
**Funcionalidades:**
- **Gestão de Perfis**: Inserção e edição de dados como nome, número da camisola, posição (Guarda-Redes, Defesa, Médio, Avançado) ou ainda nacionalidade.
- **Associação**: Cada jogador está vinculado a uma equipa através de uma chave estrangeira (`team_id`).
- **Histórico**: Acesso aos eventos de jogo em que o jogador participou (golos, cartões).
- **Estatísticas**: Visualização agregada do desempenho do jogador (total de golos, assistências e cartões acumulados).

---

## 3. Jogos (Matches)
O núcleo da competição, onde se registam os encontros entre equipas.
**Funcionalidades:**
- **Agendamento**: Criação de jogos com definição de data, hora e estádio.
- **Resultados**: Atualização do marcador (`home_score` e `away_score`). Nota: A atualização destes resultados dispara automaticamente o calculo da classificação via Triggers na base de dados.
- **Eventos**: O recurso de jogo serve como "pai" para a criação de eventos cronometrados (minuto a minuto).
- **Validação**: O sistema garante a integridade referencial entre as equipas da casa e visitante.

---

## 4. Eventos de Jogo (Match Events)
Recurso que descreve o que acontece dentro de um jogo.
**Funcionalidades:**
- **Registo de Eventos**: Permite criar registos associados a um jogo (`match_id`) e a um jogador (`player_id`) num determinado minuto.
- **Tipologia**: Suporta diferentes tipos de eventos padronizados:
    * `Goal` (Golo)
    * `Assist` (Assistência)
    * `Yellow Card` (Cartão Amarelo)
    * `Red Card` (Cartão Vermelho)
- **Correção**: Permite editar ou remover eventos (ex: anular um cartão vermelho), o que atualizará automaticamente as estatísticas globais.

---

## 5. Estatísticas e Classificação (Stats & Standings)
Recursos de leitura otimizados, baseados em vistas e tabelas calculadas.
**Funcionalidades:**
- **Classificação (Standings)**: Lista ordenada das equipas por grupo, com detalhes de Jogos Jogados (J), Vitórias (V), Empates (E), Derrotas (D), Golos Marcados/Sofridos e Pontos.
- **Estatísticas Individuais (Stats)**: Lista dos jogadores com melhores desempenhos, permitindo identificar por exemplo os melhores marcadores.

---

## 6. Infraestrutura Docker
O sistema é suportado por uma arquitetura **multicontainer** definida no `docker-compose`, composta por três serviços essenciais:

- **`mysql`**: Base de dados relacional persistente, configurada com scripts de inicialização.
-  **`api`**: O backend em Node.js/LoopBack que expõe os recursos REST na porta 3000.
-  **`backoffice`**: O frontend em React Admin que serve a interface gráfica.

Toda a interação com os recursos é automaticamente disponibilizada após executar:
`docker compose up`

---

[< Previous](c1.md) | [^ Main](../../../) | [Next >](c3.md)
:--- | :---: | ---: